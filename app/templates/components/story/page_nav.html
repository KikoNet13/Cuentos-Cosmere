{% if page_numbers %}
  <nav class="box page-nav">
    <div class="is-flex is-justify-content-space-between is-align-items-center is-flex-wrap-wrap gap-3">
      <div class="buttons are-small mb-0">
        {% if prev_page %}
          {% if editor_mode %}
            <a class="button is-light" href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=prev_page, editor=1) }}">&larr; Pagina {{ prev_page }}</a>
          {% else %}
            <a
              class="button is-light"
              href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=prev_page) }}"
              hx-get="{{ url_for('web.story_shell_fragment', story_path=story.story_rel_path, p=prev_page) }}"
              hx-target="#story-shell"
              hx-swap="outerHTML"
              hx-push-url="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=prev_page) }}"
            >&larr; Pagina {{ prev_page }}</a>
          {% endif %}
        {% endif %}
        {% if next_page %}
          {% if editor_mode %}
            <a class="button is-light" href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=next_page, editor=1) }}">Pagina {{ next_page }} &rarr;</a>
          {% else %}
            <a
              class="button is-light"
              href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=next_page) }}"
              hx-get="{{ url_for('web.story_shell_fragment', story_path=story.story_rel_path, p=next_page) }}"
              hx-target="#story-shell"
              hx-swap="outerHTML"
              hx-push-url="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=next_page) }}"
            >Pagina {{ next_page }} &rarr;</a>
          {% endif %}
        {% endif %}
      </div>

      <div class="page-chip-row">
        {% for num in page_numbers %}
          {% if editor_mode %}
            <a
              class="tag page-chip {% if num == selected_page %}is-selected{% endif %}"
              href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=num, editor=1) }}"
            >{{ num }}</a>
          {% else %}
            <a
              class="tag page-chip {% if num == selected_page %}is-selected{% endif %}"
              href="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=num) }}"
              hx-get="{{ url_for('web.story_shell_fragment', story_path=story.story_rel_path, p=num) }}"
              hx-target="#story-shell"
              hx-swap="outerHTML"
              hx-push-url="{{ url_for('web.node_or_story', path_rel=story.story_rel_path, p=num) }}"
            >{{ num }}</a>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </nav>
{% endif %}
